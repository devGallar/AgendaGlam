"use strict";App.Pages.GoogleAnalyticsSettings=function(){function isInvalid(){try{$("#google-analytics-settings .is-invalid").removeClass("is-invalid");var missingRequiredFields=!1;if($("#google-analytics-settings .required").each(function(index,requiredField){var $requiredField=$(requiredField);$requiredField.val()||($requiredField.addClass("is-invalid"),missingRequiredFields=!0)}),missingRequiredFields)throw new Error(lang("fields_are_required"));return!1}catch(error){return App.Layouts.Backend.displayNotification(error.message),!0}}function deserialize(googleAnalyticsSettings){googleAnalyticsSettings.forEach(function(googleAnalyticsSetting){var $field=$("[data-field=\""+googleAnalyticsSetting.name+"\"]");$field.is(":checkbox")?$field.prop("checked",!!+googleAnalyticsSetting.value):$field.val(googleAnalyticsSetting.value)})}function serialize(){var googleAnalyticsSettings=[];return $("[data-field]").each(function(index,field){var $field=$(field);googleAnalyticsSettings.push({name:$field.data("field"),value:$field.is(":checkbox")?+$field.prop("checked"):$field.val()})}),googleAnalyticsSettings}function onSaveSettingsClick(){if(isInvalid())return void App.Layouts.Backend.displayNotification(lang("settings_are_invalid"));var googleAnalyticsSettings=serialize();App.Http.GoogleAnalyticsSettings.save(googleAnalyticsSettings).done(function(){App.Layouts.Backend.displayNotification(lang("settings_saved"))})}var $saveSettings=$("#save-settings");return document.addEventListener("DOMContentLoaded",function(){$saveSettings.on("click",onSaveSettingsClick);var googleAnalyticsSettings=vars("google_analytics_settings");deserialize(googleAnalyticsSettings)}),{}}();